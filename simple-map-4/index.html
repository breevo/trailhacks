

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">

  <link rel="stylesheet" href="https://js.arcgis.com/4.0beta3/esri/css/main.css"></p>
  <script src="https://js.arcgis.com/4.0beta3/"></script>
	<script>
	   var map;
	  
	  require(["esri/Map",
      "esri/views/MapView",
      "esri/layers/ArcGISDynamicLayer",
		  "dojo/parser", "dojo/dom-style",
	      "dojo/on", 
	      "dojo/dom",
          "esri/layers/FeatureLayer",
          "esri/geometry/Extent",        
          "dojo/dom-construct",
	        "esri/symbols/SimpleLineSymbol",
	        "esri/symbols/SimpleFillSymbol",
	        "esri/symbols/TextSymbol",
	        "esri/renderers/SimpleRenderer",
	        "esri/Color",
	   
		  "dijit/layout/BorderContainer", "dijit/layout/ContentPane",
	      "dojo/domReady!"], function(Map, MapView, ArcGISDynamicLayer, parser, domStyle, on, dom, FeatureLayer, Extent, domConstruct, 
			  SimpleLineSymbol, SimpleFillSymbol, TextSymbol, SimpleRenderer, LabelClass, Color) {

          // Wire UI Events
          on(dom.byId("btnStreets"),"click", function() { 
            map.basemap = "streets";
          });
          on(dom.byId("btnSatellite"),"click", function() { 
            map.basemap = "satellite";
          });
          on(dom.byId("btnHybrid"),"click", function() { 
            map.basemap = "hybrid";
          });
          on(dom.byId("btnTopo"),"click", function() { 
            map.basemap = "topo";
          });
          on(dom.byId("btnGray"),"click", function() { 
            map.basemap = "gray";
          });
          on(dom.byId("btnNatGeo"),"click", function() { 
            map.basemap = "national-geographic";
          });	
		  
		  
		  
		  console.log("init called: " + parser);
		
		// var infoWindow = new InfoWindowLite(null, domConstruct.create("div", null, null, map.root));
  //       infoWindow.startup();
  //       map.setInfoWindow(infoWindow);

  //       var template = new InfoTemplate();
  //       template.setTitle("<b>${TRAILNAME}</b>");
  //       template.setContent("<p>${LOOPNAME}</p>MTB? ${MTN_BIKING}");

  //       // create a renderer for the states layer to override default symbology
        // var trailColor = new Color("#00FF00");
        var trailLine = new SimpleLineSymbol({style: "solid", color: "#00FF00", width: 2.5});
        // var trailSymbol = new SimpleFillSymbol({"style": "none", trailLine, null);
        // var trailRenderer = new SimpleRenderer(trailSymbol);
        

        var trailRenderer = new SimpleRenderer({
          symbol: trailLine,
          visualVariables: [{
            type: "opacityInfo",
            opacityValues: [ 0.5 ]
          }]
        });

        //add a layer to the map
        var featureLayer = new FeatureLayer("http://tlcgisinter.leoncountyfl.gov/arcgis/rest/services/Public/TLC_Inter_OverlayTrailahassee_D_WM/MapServer/3", {
          // mode: FeatureLayer.MODE_ONDEMAND,
          // infoTemplate:template,
       //    outFields: ["PARKNAME" , "TRAILNAME", "LOOPNAME", "MTN_BIKING"],
    		 //  showLabels: true,
    			// opacity: 0.8,
          renderer: trailRenderer
        });
        // view.addLayer(featureLayer);
		
		
      var trailTypeLayer = new ArcGISDynamicLayer({
        url: "http://tlcgisinter.leoncountyfl.gov/arcgis/rest/services/Public/TLC_Inter_OverlayTrailahassee_D_WM/MapServer",
        visibleLayers: [2]
      });
      // trailTypeLayer.setVisibleLayers([2], false);

		  
        map = new Map({
          basemap: "topo",
          layers: [featureLayer, trailTypeLayer]
        });

        var view = new MapView({
          container: "mapDiv",
          map: map 
        });


        featureLayer.then(function() {
          view.animateTo({
            center: [-84.291221, 30.4343218],
            zoom: 12,
          });
        });

	  });

	</script>

	<style>
	  html, body, #mapDiv {
	    padding: 0;
	    margin: 0;
	    height: 100%;
	  }
	  
	  .panel-heading, .panel-title {
	  	padding: 0;
	  	margin: 0;
	  }
	  
	  .panel-primary {
		z-index: 100;
		padding: 10px 10px 10px 10px;
		position: absolute;
		bottom: 10px;
		left: 10px;
		border: 1px solid #EAEAEA;
		background: rgba(255, 255, 255, 0.5);
	  }
	</style>



	
    <title></title>
  </head>


  <body class="claro">

<div class="panel panel-primary panel-fixed">
<!--       <div class="panel-heading">
        <h3 class="panel-title">Map</h3>
      </div>
 -->      <div class="panel-body">
        <div class="btn-toolbar">
          <div class="btn-group">
            <button id="btnStreets" class="btn btn-default">Streets</button>
            <button id="btnSatellite" class="btn btn-default">Satellite</button>
            <button id="btnHybrid" class="btn btn-default">Hybrid</button>
            <button id="btnTopo" class="btn btn-default">Topo</button>
          </div>  
        </div>
        <div class="btn-toolbar">
          <div class="btn-group">
            <button id="btnGray" class="btn btn-default">Gray</button>
            <button id="btnNatGeo" class="btn btn-default">National Geographic</button>
          </div>  
        </div>
      </div>
    </div>

    <div id="mapDiv"></div>
  </body>

  
  
</html>

